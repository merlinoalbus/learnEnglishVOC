/* =====================================================
 * üìÅ Test Card Component - Optimized Styles
 * ===================================================== */

/* Base card container */
.test-card-container {
  @apply relative cursor-pointer;
  width: 26rem;
  height: 38rem;
  perspective: 1000px;
}

/* 3D flip wrapper */
.test-card-flip-wrapper {
  @apply relative w-full h-full;
  transform-style: preserve-3d;
  transition: transform var(--duration-slowest) var(--ease-in-out);
}

.test-card-flip-wrapper.flipped {
  transform: rotateY(180deg);
}

/* Card face base */
.test-card-face {
  @apply absolute inset-0 overflow-hidden;
  border-radius: var(--radius-3xl);
  box-shadow: var(--shadow-2xl);
  backface-visibility: hidden;
}

/* Front face styling */
.test-card-face-front {
  background: var(--gradient-primary);
}

/* Back face styling */
.test-card-face-back {
  background: var(--gradient-success);
  transform: rotateY(180deg);
}

/* Content container */
.test-card-content {
  @apply relative h-full text-white;
  padding: var(--space-lg);
  display: flex;
  flex-direction: column;
}

/* Header section */
.test-card-header {
  @apply text-center border-b border-white/30;
  padding-bottom: var(--space-md);
  margin-bottom: var(--space-md);
}

.test-card-title {
  @apply text-2xl font-bold;
  text-shadow: var(--text-shadow-base);
}

.test-card-chapter {
  @apply text-white/90 text-sm;
  margin-top: var(--space-sm);
}

/* Main word display */
.test-card-word {
  display: flex;
  align-items: center;
  justify-content: center;
  flex: 1;
}

.test-card-word-text {
  @apply text-5xl font-bold text-center leading-tight;
  text-shadow: var(--text-shadow-lg);
}

/* Translation section */
.test-card-translation {
  @apply text-2xl text-center;
  text-shadow: var(--text-shadow-base);
}

/* Content sections - using design system */
.test-card-section {
  background: var(--glass-light);
  backdrop-filter: blur(var(--backdrop-blur-sm));
  border-radius: var(--radius-xl);
  padding: var(--space-base);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.test-card-section-header {
  @apply font-bold text-sm flex items-center;
  margin-bottom: var(--space-sm);
  gap: var(--space-sm);
}

.test-card-section-content {
  @apply text-sm;
}

/* Hint display - optimized */
.test-card-hint {
  @apply absolute text-center text-lg italic;
  top: var(--space-md);
  left: var(--space-md);
  right: var(--space-md);
  background: var(--glass-dark);
  backdrop-filter: blur(var(--backdrop-blur-md));
  border-radius: var(--radius-2xl);
  padding: var(--space-base);
}

/* Hint counter - optimized */
.test-card-hint-counter {
  @apply absolute flex items-center text-white text-sm font-medium;
  top: var(--space-base);
  right: var(--space-base);
  gap: var(--space-sm);
  background: rgba(251, 146, 60, 0.8);
  backdrop-filter: blur(var(--backdrop-blur-sm));
  border-radius: var(--radius-xl);
  padding: var(--space-base) var(--space-base);
  box-shadow: var(--shadow-lg);
}

/* Decorative particles */
.test-card-particle {
  @apply absolute rounded-full opacity-90;
}

.test-card-particle-small {
  @apply w-1 h-1;
}

.test-card-particle-medium {
  @apply w-1.5 h-1.5;
}

.test-card-particle-large {
  @apply w-2 h-2;
}

/* Animations */
@keyframes test-card-fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes test-card-bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-5px);
  }
}

.test-card-animate-fade {
  animation: test-card-fade-in 0.5s ease-out;
}

.test-card-animate-bounce {
  animation: test-card-bounce 2s ease-in-out infinite;
}

/* Compact content layout */
.test-card-compact-content {
  @apply bg-white/10 backdrop-blur-sm rounded-xl p-4 space-y-2 text-sm;
}

.test-card-info-line {
  @apply flex items-start gap-2;
}

.test-card-info-block {
  @apply space-y-1;
}

.test-card-info-icon {
  @apply text-base flex-shrink-0;
}

.test-card-info-label {
  @apply font-semibold text-white/90 flex-shrink-0;
}

.test-card-info-value {
  @apply text-white/80;
}

.test-card-examples-compact {
  @apply ml-7 space-y-1;
}

.test-card-example-compact {
  @apply text-white/80 text-sm;
}

/* Category badge at bottom center */
.test-card-category-badge-bottom {
  @apply flex justify-center mt-4 mb-2;
}

.test-card-category-content-bottom {
  @apply flex items-center gap-2 bg-white/20 backdrop-blur-sm rounded-full px-3 py-1 text-sm font-medium text-white;
}

/* Dark mode specific overrides */
:root.dark .test-card-section {
  @apply bg-black/20;
}

:root.dark .test-card-hint {
  @apply bg-white/10;
}

/* Outer container */
.test-card-outer-container {
  @apply w-full;
}

/* Hint styles */
.test-card-hint-container-wrapper {
  @apply mb-4;
  min-height: 100px;
}

.test-card-hint-box {
  @apply bg-white/20 backdrop-blur-md rounded-2xl p-4 border border-white/30 animate-fade-in transition-all duration-300;
}

.test-card-hint-box-hidden {
  @apply opacity-0 pointer-events-none;
}

.test-card-hint-box-disabled {
  @apply opacity-50 bg-gray-200/20;
}

.test-card-hint-header {
  @apply flex items-center gap-2 mb-2;
}

.test-card-hint-icon {
  @apply text-lg;
}

.test-card-hint-label {
  @apply text-sm font-bold text-white/90;
}

.test-card-hint-badge {
  @apply text-xs bg-orange-400/80 text-white px-2 py-1 rounded-full;
}

.test-card-hint-text {
  @apply text-sm italic text-white/90 leading-relaxed;
}

/* Front face content */
.test-card-front-content {
  @apply text-center space-y-6 flex-1 flex flex-col justify-center;
}

.test-card-english-word {
  @apply text-5xl font-bold drop-shadow-lg;
}

.test-card-instruction {
  @apply text-xl opacity-90 animate-pulse;
}

.test-card-language-badge {
  @apply mt-8;
}

.test-card-language-indicator {
  @apply inline-flex items-center justify-center w-16 h-16 border-2 border-white/30 rounded-2xl backdrop-blur-sm;
}

.test-card-language-text {
  @apply text-2xl font-bold;
}

/* Back face specific */
.test-card-back-overlay {
  @apply absolute inset-0 bg-black/20;
}

.test-card-category-badge {
  @apply absolute top-4 right-4 z-10;
}

.test-card-category-content {
  @apply bg-white/20 backdrop-blur-sm text-white px-3 py-2 rounded-xl text-sm font-medium flex items-center gap-2 shadow-lg;
}

/* Main translation */
.test-card-main-translation {
  @apply text-center mb-6;
}

.test-card-italian-word {
  @apply font-bold drop-shadow-lg leading-tight;
}

/* Content grid */
.test-card-content-grid {
  @apply flex-1 grid grid-cols-1 gap-4 overflow-y-auto;
}

/* Section content variations */
.test-card-section-list {
  @apply text-sm leading-relaxed;
}

.test-card-examples-container {
  @apply space-y-2;
}

.test-card-example-item {
  @apply italic text-sm leading-relaxed;
}

.test-card-notes-content {
  @apply text-sm leading-relaxed whitespace-pre-line;
}

/* Footer */
.test-card-footer {
  @apply text-center text-sm opacity-90 border-t border-white/30 pt-4 mt-6;
}

.test-card-footer-text {
  @apply animate-pulse;
}

/* Particles positioning */
.test-card-particle-top-right {
  @apply absolute top-4 right-4 w-2 h-2 bg-white/50 rounded-full animate-ping;
}

.test-card-particle-bottom-left {
  @apply absolute bottom-8 left-8 w-1 h-1 bg-white/30 rounded-full animate-pulse;
}

.test-card-particle-mid-left {
  @apply absolute top-1/3 left-4 w-1.5 h-1.5 bg-white/40 rounded-full animate-bounce;
}

/* Additional classes used by the component */
.test-card-hint-box {
  @apply absolute top-6 left-6 right-6 bg-white/20 backdrop-blur-md rounded-2xl p-4 border border-white/30;
}

.test-card-hint-header {
  @apply space-y-2;
}

.test-card-hint-header-content {
  @apply flex items-center gap-2;
}

.test-card-hint-icon {
  @apply text-lg;
}

.test-card-hint-label {
  @apply text-sm font-bold text-white/90;
}

.test-card-hint-badge {
  @apply bg-orange-400/80 px-2 py-1 rounded text-xs;
}

.test-card-hint-text {
  @apply text-white/90 italic text-sm;
}

.test-card-front-content {
  @apply flex-1 flex flex-col items-center justify-center space-y-6;
}

.test-card-english-word {
  @apply text-5xl font-bold text-center drop-shadow-lg leading-tight;
}

.test-card-instruction {
  @apply text-white/80 text-sm text-center;
}

.test-card-language-badge {
  @apply absolute bottom-8 right-8;
}

.test-card-language-indicator {
  @apply bg-white/20 backdrop-blur-sm rounded-full w-16 h-16 flex items-center justify-center;
}

.test-card-language-text {
  @apply text-white font-bold text-lg;
}

.test-card-particle-top-right,
.test-card-particle-bottom-left,
.test-card-particle-mid-left {
  @apply absolute rounded-full opacity-90;
}

.test-card-particle-top-right {
  @apply w-2 h-2 bg-white/30 top-20 right-12 animate-pulse;
}

.test-card-particle-bottom-left {
  @apply w-1 h-1 bg-white/40 bottom-20 left-8 animate-bounce;
}

.test-card-particle-mid-left {
  @apply w-1.5 h-1.5 bg-white/20 top-1/3 left-4 animate-ping;
}

/* Responsive adjustments */
@media (max-width: 640px) {
  .test-card-container {
    @apply w-72 h-80;
  }
  
  .test-card-word-text,
  .test-card-english-word {
    @apply text-4xl;
  }
  
  .test-card-content {
    @apply p-6;
  }
}